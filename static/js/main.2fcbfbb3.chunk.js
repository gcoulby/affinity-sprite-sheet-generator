(this["webpackJsonpaffinity-sprite-sheet-generator"]=this["webpackJsonpaffinity-sprite-sheet-generator"]||[]).push([[0],{36:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},51:function(e,t){},53:function(e,t){},63:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),r=n(31),l=n.n(r),i=(n(36),n(10)),c=n(11),o=n(13),h=n(12),d=(n(37),n(38),n(41),n(42),n(43),n(3)),u=n.n(d),m=n.p+"static/media/logo.96c68b37.svg",g=n(0),f=function(e){Object(o.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,r=new Array(s),l=0;l<s;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={files:[],filename:"svg_sprite_sheet",svg:{svg:[]},color:"#787878",progress:0,xml:{declaration:{attributes:{version:"1.0",encoding:"iso-8859-1"}},elements:[{type:"comment",comment:" Generator: Affinity SVG Asset Cleaner by Graham Coulby https://grahamcoulby.co.uk/"},{type:"element",name:"svg",attributes:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 64 64",style:"enable-background:new 0 0 64 64;","xml:space":"preserve"},elements:[]}]}},e.handleFilesChange=function(t){for(var n=[],a=0;a<t.target.files.length;a++){var s=t.target.files[a];console.log(s.webkitRelativePath),n.push(s)}e.setState({files:n})},e.handleCreateButtonClicked=function(){var t=e.state.xml;t.elements[1].elements=[],e.setState({xml:t}),e.state.files.map((function(t,n){e.setProgress(n),e.readBlob(t,n)})),e.setProgress(e.state.files.length)},e.setProgress=function(t){var n=100*(t>0?t/e.state.files.length:0);e.setState({progress:n})},e.findPath=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"path";return u.a.has(t,a)?[t]:u.a.flatten(u.a.map(t,(function(t){return"object"==typeof t?e.findPath(t,a):[]})),!0)},e.readBlob=function(t,a){var s=t.size-1,r=new FileReader;r.onloadend=function(s){if(s.target.readyState===FileReader.DONE){e.setState({fileContents:s.target.result});var r=n(23).xml2js(s.target.result,{compact:!0,spaces:4}),l=e.findPath(r);try{var i,c={type:"element",name:"path",attributes:{d:l[0].path._attributes.d,id:t.name.replace(".svg",""),fill:e.state.color}},o=e.state.xml;null===(i=o.elements[1])||void 0===i||i.elements.push(c),e.setState({xml:o})}catch(h){console.log(h,t.name)}a==e.state.files.length-1&&e.downloadFile()}};var l=t.slice(0,s+1);r.readAsBinaryString(l)},e.downloadFile=function(){var t,a=n(23).js2xml(e.state.xml),s=new Blob([a]),r=document.createElement("a");document.body.appendChild(r),r.setAttribute("style","display:none");var l=window.URL.createObjectURL(s);r.href=l,r.download=null!==(t="".concat(e.state.filename,".svg"))&&void 0!==t?t:"svg_sprite_sheet.svg",r.click(),window.URL.revokeObjectURL(l),e.setProgress(0)},e.onColorChange=function(t){e.setState({color:t.target.value})},e.handleFilenameChange=function(t){e.setState({filename:t.target.value})},e}return Object(c.a)(a,[{key:"recurse",value:function(e,t){return u.a.map(e,(function(e){var n=u.a.union(t,[e.name]);return[u.a.assign({pathname:n.join(" > "),level:t.length},u.a.omit(e,"children")),this.recurse(e.children,n)]}))}},{key:"render",value:function(){var e=this;return Object(g.jsx)(s.a.Fragment,{children:Object(g.jsx)("div",{class:"container-fluid bg-dark text-light pt-5 page",children:Object(g.jsx)("div",{class:"row",children:Object(g.jsxs)("div",{class:"col-lg-12 text-center",children:[Object(g.jsx)("img",{src:m,width:"100"}),Object(g.jsx)("h1",{class:"mt-5",children:"Affinity Asset Sprite Sheet Creator"}),Object(g.jsx)("div",{class:"row text-center",children:Object(g.jsxs)("div",{className:"col",children:[Object(g.jsx)("h4",{children:"1. Choose Color"}),Object(g.jsx)("input",{type:"color",id:"html5colorpicker",value:this.state.color,onChange:function(t){return e.onColorChange(t)},className:"form-control"}),Object(g.jsx)("h4",{className:"mt-5",children:"2. Choose Files"}),Object(g.jsx)("input",{type:"file",id:"fileChooser",multiple:!0,onChange:function(t){return e.handleFilesChange(t)},accept:"image/svg, .svg",className:"form-control bg-dark text-light"})]})}),Object(g.jsx)("div",{className:"row text-center justify-content-md-center",children:Object(g.jsxs)("div",{className:"col-3",children:[Object(g.jsx)("h4",{className:"mt-5",children:"3. Choose a filename"}),Object(g.jsx)("input",{placeholder:"filename",className:"form-control",value:this.state.filename,onChange:function(t){return e.handleFilenameChange(t)}})]})}),Object(g.jsx)("div",{className:"row text-center",children:Object(g.jsxs)("div",{className:"col",children:[Object(g.jsx)("h4",{className:"mt-5",children:"3. Create Sprite Sheet"}),Object(g.jsx)("button",{className:"btn btn-outline-light",onClick:function(){return e.handleCreateButtonClicked()},children:"Create"})]})}),Object(g.jsx)("div",{className:"row text-center mt-2 mb-4 justify-content-md-center",children:Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)("div",{class:"progress",children:Object(g.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:this.state.progress+"%"},"aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"})})})})]})})})})}}]),a}(a.Component),j=function(e){Object(o.a)(n,e);var t=Object(h.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(g.jsx)(s.a.Fragment,{children:Object(g.jsx)(f,{})})}}]),n}(a.Component),b=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,l=t.getTTFB;n(e),a(e),s(e),r(e),l(e)}))};l.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(j,{})}),document.getElementById("root")),b()}},[[63,1,2]]]);
//# sourceMappingURL=main.2fcbfbb3.chunk.js.map